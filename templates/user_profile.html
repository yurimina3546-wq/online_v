{% extends "base.html" %}
{% block content %}
<div
    style="max-width: 900px; margin: 20px auto; background: #1a1a1a; border-radius: 15px; overflow: hidden; border: 1px solid #333;">

    <div
        style="width: 100%; height: 250px; background-image: url('{{ url_for('static', filename='profile_pics/' + user.cover_pic) }}'); background-size: cover; background-position: center; position: relative;">

        <div style="position: absolute; bottom: -50px; left: 50%; transform: translateX(-50%);">
            <img src="{{ url_for('static', filename='profile_pics/' + user.profile_pic) }}"
                style="width: 120px; height: 120px; border-radius: 50%; border: 4px solid #1a1a1a; object-fit: cover; box-shadow: 0 4px 10px rgba(0,0,0,0.5);">
        </div>
    </div>

    <div style="padding-top: 60px; padding-bottom: 30px; text-align: center;">
        <h2 style="margin: 10px 0 5px 0;">{{ user.username }}</h2>
        <div style="margin-top: 15px; display: flex; justify-content: center; gap: 20px;">
            {% if user.facebook %}
            <a href="{{ user.facebook }}" target="_blank"
                style="text-decoration: none; color: #1877F2; font-size: 1.5em;">
                Facebook ğŸŒ
            </a>
            {% endif %}

            {% if user.telegram %}
            <a href="https://t.me/{{ user.telegram.replace('@', '') }}" target="_blank"
                style="text-decoration: none; color: #24A1DE; font-size: 1.5em;">
                Telegram âœˆï¸
            </a>
            {% endif %}
        </div>
        <p style="color: #bbb; font-style: italic; max-width: 500px; margin: 0 auto;">
            {{ user.bio if user.bio else "á€›á€¯á€•á€ºá€›á€¾á€„á€ºá€á€«á€á€”á€¬á€¡á€­á€¯á€¸á€á€…á€ºá€šá€±á€¬á€€á€ºá‹" }}
        </p>

    </div>
</div>

{% if user == current_user %}
<a href="{{ url_for('edit_profile') }}"
    style="display: inline-block; margin-top: 10px; color: #e50914; text-decoration: none; border: 1px solid #e50914; padding: 5px 15px; border-radius: 5px; font-size: 0.9em;">Edit
    Profile</a>
{% endif %}
</div>

<h3 style="text-align: left; border-bottom: 2px solid #333; padding-bottom: 10px;">Posts by {{ user.username }}</h3>

{% for post in posts %}
<div
    style="background: #1a1a1a; border-radius: 12px; margin-top: 20px; border: 1px solid #333; overflow: hidden; text-align: left;">
    <div style="padding: 15px;">
        <h4 style="margin: 0;"><a href="{{ url_for('post', post_id=post.id) }}"
                style="color: white; text-decoration: none;">{{ post.title }}</a></h4>
        <small style="color: #888;">{{ post.date_posted.strftime('%B %d, %Y') }}</small>
    </div>
</div>
{% endfor %}
</div>
{% endblock %}